<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOSTON JASTIP</title>

    <!-- Google Fonts for luxury feel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        :root {
            --gold: #B4975A;
            --leather: #3D2F24;
            --cream: #F6F2EB;
            --card: #FAFAF8;
            --border: #D8D5CF;
            --muted: #8B7C68;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--cream);
        }
        .hidden-view {
            display: none;
        }
        .variant-thumbnail.active {
            border: 2px solid var(--gold);
        }
        .gallery-thumbnail-btn.active-gallery {
            border: 2px solid var(--gold);
            opacity: 1;
            box-shadow: 0 0 0 1px rgba(180, 151, 90, 0.08);
        }
        /* Floating back button (top-left, Coach mobile style) */
        #floating-back-btn {
            position: fixed;
            top: 88px;
            left: 16px;
            z-index: 50;
        }
        @media (min-width: 768px) {
            #floating-back-btn {
                top: 96px;
                left: 40px;
            }
        }
        /* Fade-in animation utility */
        .fade-in-up {
            opacity: 0;
            transform: translateY(-4px);
            animation: fadeInUp 0.25s ease-out forwards;
        }
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Breadcrumb hover underline */
        .breadcrumb-link {
            position: relative;
        }
        .breadcrumb-link::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 0;
            height: 1px;
            background-color: var(--gold);
            transition: width 0.2s ease;
        }
        .breadcrumb-link:hover::after {
            width: 100%;
        }
    </style>
</head>
<body class="min-h-screen antialiased text-[15px] text-[color:var(--leather)]">

    <!-- Luxury Header -->
    <header class="bg-white/80 backdrop-blur border-b border-[color:var(--border)]">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-5 flex flex-col gap-1">
            <div class="flex items-baseline justify-between">
                <h1 class="text-3xl sm:text-4xl font-semibold tracking-[0.35em] uppercase text-[color:var(--leather)]"
                    style="font-family: 'Playfair Display', serif;">
                    BOSTON&nbsp;JASTIP
                </h1>
            </div>
            <p class="text-sm text-[color:var(--muted)]">
                Curated picks from the US, brought to Indonesia with care.
            </p>
        </div>
    </header>

    <!-- Floating Back to Catalog button -->
    <button
        id="floating-back-btn"
        onclick="showCatalogGrid()"
        class="hidden-view inline-flex items-center justify-center px-4 h-10 rounded-full bg-white border border-[color:var(--gold)] text-[color:var(--leather)] shadow-md hover:shadow-lg hover:bg-[color:var(--card)] transition duration-200 text-xs sm:text-sm font-medium"
        aria-label="Back to catalog"
    >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
                  d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
                  clip-rule="evenodd" />
        </svg>
        <span>Back to Catalog</span>
    </button>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10">

        <!-- Filter Bar -->
        <section id="filter-section" class="mb-6 sm:mb-8">
            <div id="filter-bar"
                 class="bg-[color:var(--card)] border border-[color:var(--border)] rounded-2xl px-4 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 shadow-sm">
                <div class="text-xs font-medium tracking-[0.18em] text-[color:var(--muted)] uppercase">
                    Filter
                    <span class="mx-1 text-[color:var(--border)]">â€¢</span>
                    <span class="text-[color:var(--leather)]">Brand</span>
                </div>
                <div>
                    <select id="brand-filter" onchange="filterProducts(this.value)"
                            class="w-full sm:w-56 text-sm border border-[color:var(--border)] rounded-full px-3 py-2 bg-white focus:outline-none focus:ring-1 focus:ring-[color:var(--gold)] focus:border-[color:var(--gold)] transition">
                        <option value="all">All Brands</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Catalog Grid View -->
        <section id="catalog-grid-view">
            <div id="catalog-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-7 lg:gap-8">
                <!-- Product cards will be injected here -->
            </div>
        </section>

        <!-- Product Details View -->
        <section id="details-view" class="hidden-view mt-4 sm:mt-6">
            <!-- Breadcrumb -->
            <nav id="breadcrumb" class="hidden-view mb-3 sm:mb-4">
                <!-- JS injects breadcrumb -->
            </nav>

            <div id="product-details-container"
                 class="bg-white border border-[color:var(--border)] rounded-3xl px-4 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10 shadow-sm">
                <!-- Injected by JS -->
            </div>
        </section>

    </main>

    <script>
        /* --------- PRODUCT DATA --------- */
        const products = [
            {
                id: "medium_corner_zip_wallet",
                name: "Coach - Medium Corner Zip Wallet",
                brand: "Coach",
                price: "Rp -",
                variants: [
                    {
                        id: "medium_corner_zip_wallet_1",
                        color: "gold/maple",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr791_immpl_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr791_immpl_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr791_immpl_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_2",
                        color: "gold/black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_imblk_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_imblk_a8?$desktopProductTile$", alt: "Angle" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_3",
                        color: "gold/chalk",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_imchk_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_imchk_a8?$desktopProductTile$", alt: "Angle" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_4",
                        color: "silver/light black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_svdtv_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/6390_svdtv_a8?$desktopProductTile$", alt: "Angle" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_5",
                        color: "gold/true red",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imdn8_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imdn8_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imdn8_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_6",
                        color: "gunmetalk",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_qbcbd_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_qbcbd_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_qbcbd_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_7",
                        color: "gold",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imorx_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imorx_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imorx_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_8",
                        color: "silver",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svp3k_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svp3k_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svp3k_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_9",
                        color: "silver/dark black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svbk_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svbk_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svbk_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_10",
                        color: "gold/grey birch",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imc2j_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imc2j_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_imc2j_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_11",
                        color: "silver/red",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svpm_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svpm_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo41_svpm_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_12",
                        color: "gold/tan",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo32_imtn2_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo32_imtn2_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo32_imtn2_a91?$desktopProductTile$", alt: "Inside" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cbo32_imtn2_a99?$desktopProductTile$", alt: "Detail" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_13",
                        color: "silver/black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw526_svbk_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw526_svbk_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw526_svbk_a82?$desktopProductTile$", alt: "Inside" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw526_svbk_a91?$desktopProductTile$", alt: "Detail" },
                        ],
                    },
                ]
            },
            {
                id: "medium_corner_zip_wallet_in_signature",
                name: "Coach - Medium Corner Zip Wallet in Signature",
                brand: "Coach",
                price: "Rp -",
                variants: [
                    {
                        id: "medium_corner_zip_wallet_in_signature_1",
                        color: "gold/walnut/black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxaq_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxaq_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxaq_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_2",
                        color: "gold/sand/chalk",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxdm_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxdm_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxdm_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_3",
                        color: "gunmetal/charcoal/black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_qbmi5_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_qbmi5_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_qbmi5_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_4",
                        color: "silver/sand/cream",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svpwh_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svpwh_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svpwh_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_5",
                        color: "gold/tan/black",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imqrx_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imqrx_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imqrx_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_6",
                        color: "gold/tan/brown",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxhe_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxhe_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxhe_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_7",
                        color: "gold/white/chalk",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxu5_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxu5_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imxu5_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_8",
                        color: "silver/brown/pink",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svygg_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svygg_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_svygg_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_9",
                        color: "gold/black/red",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imyly_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imyly_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw786_imyly_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_10",
                        color: "gold/navy/midnight navy jacquard",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cu987_imx1x_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cu987_imx1x_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cu987_imx1x_a91?$desktopProductTile$", alt: "Inside" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_11",
                        color: "gold/sand multi with floral print",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/car13_imsas_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/car13_imsas_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/car13_imsas_a82?$desktopProductTile$", alt: "Inside" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/car13_imsas_a91?$desktopProductTile$", alt: "Detail" },
                        ],
                    },
                    {
                        id: "medium_corner_zip_wallet_in_signature_12",
                        color: "gold/light khaki chalk multi with floral print",
                        price: "Rp -",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr968_imotv_a0?$desktopProductTile$", alt: "Front" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr968_imotv_a8?$desktopProductTile$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr968_imotv_a82?$desktopProductTile$", alt: "Inside" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cr968_imotv_a91?$desktopProductTile$", alt: "Detail" },
                            { type: 'video', url: "https://assets.coach.com/na/media/EOS/pdp/C0082_SVV7Q_Med_Crn_Zip.mp4", alt: "360 Spin" },
                        ],
                    },
                ]
            },
            {
                id: "nolita_19",
                name: "Coach - Nolita 19",
                brand: "Coach",
                price: "Rp 2.500.000",
                variants: [
                    {
                        id: "nolita_19_1",
                        color: "signature canvas/Gold/Sand/Chalk",
                        price: "Rp 2.500.000",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a0?$desktopProduct$", alt: "Front" },
                            { type: 'video', url: "https://assets.coach.com/na/media/pdp/spin_cw426_imxdm_v2_p3.mp4", alt: "360 Spin" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a99?$desktopProduct$", alt: "Angle" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a10?$desktopProduct$", alt: "Inside" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a6?$desktopProduct$", alt: "Detail 1" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a8?$desktopProduct$", alt: "Detail 2" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a3?$desktopProduct$", alt: "Back" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a92?$desktopProduct$", alt: "Strap" },
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cw426_imxdm_a91?$desktopProduct$", alt: "On model" },
                        ],
                    },
                    {
                        id: "nolita_19_2",
                        color: "smooth leather/Gold",
                        price: "Rp 2.650.000",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/cci92_immrn_a0?$desktopProduct$", alt: "Front" },
                            { type: 'image', url: "https://placehold.co/800x600/4c0519/ffffff?text=Smooth+Leather+Side+View", alt: "Side" },
                            { type: 'image', url: "https://placehold.co/800x600/4c0519/ffffff?text=Smooth+Leather+Back", alt: "Back" },
                        ],
                    },
                    {
                        id: "nolita_19_3",
                        color: "novelty leather/Silver",
                        price: "Rp 2.700.000",
                        media: [
                            { type: 'image', url: "https://coach.scene7.com/is/image/Coach/ccf58_sva47_a0?$desktopProduct$", alt: "Front" },
                            { type: 'image', url: "https://placehold.co/800x600/1e40af/ffffff?text=Novelty+Detail+1", alt: "Detail" },
                        ],
                    },
                ]
            },
            {
                id: "tj_large_tottebage",
                name: "Trader Joes Large Tote Shopping Bag Cotton Canvas Embroidered Bag",
                brand: "Trader Joe's",
                price: "Rp 250.000",
                variants: [
                    {
                        id: "tj_large_tottebage_1",
                        color: "navy blue",
                        price: "Rp 250.000",
                        media: [
                            { type: 'image', url: "https://i5.walmartimages.com/seo/Trader-Joes-Large-Tote-Shopping-Bag-Cotton-Canvas-Embroidered-Bag-1-Navy-Blue_19a3bf93-5e46-4bf3-a5c6-217d50472c87.ddf093bc469995bb0b2e2790d812cfa0.jpeg?odnHeight=2000&odnWidth=2000&odnBg=FFFFFF", alt: "Front" },
                            { type: 'image', url: "https://i5.walmartimages.com/asr/805a7ae0-d459-475e-809c-622a78c53f47.bf35b14d1effc02daef5796551d81541.jpeg?odnHeight=2000&odnWidth=2000&odnBg=FFFFFF", alt: "Angle" },
                        ],
                    },
                ]
            },
            {
                id: "zenith-smartwatch",
                name: "Zenith Smartwatch (Series 3)",
                brand: "Apple",
                price: "$199.50",
                imageUrl: "https://placehold.co/800x600/10b981/ffffff?text=Zenith+Watch+Details",
            },
            {
                id: "luna-lamp",
                name: "Luna Desk Lamp",
                brand: "IKEA",
                price: "$65.00",
                imageUrl: "https://placehold.co/800x600/fbbf24/101010?text=Luna+Lamp+Details",
            },
            {
                id: "coach-wallet",
                name: "Coach Slim Wallet",
                brand: "Coach",
                price: "Rp 1.200.000",
                imageUrl: "https://placehold.co/800x600/7c3aed/ffffff?text=Coach+Wallet",
            }
        ];

        const catalogGridView = document.getElementById('catalog-grid-view');
        const detailsView = document.getElementById('details-view');
        const catalogGrid = document.getElementById('catalog-grid');
        const productDetailsContainer = document.getElementById('product-details-container');
        const brandFilterSelect = document.getElementById('brand-filter');
        const filterSection = document.getElementById('filter-section');
        const filterBar = document.getElementById('filter-bar');
        const floatingBackBtn = document.getElementById('floating-back-btn');
        const breadcrumbNav = document.getElementById('breadcrumb');

        let currentProductVariants = [];
        let currentProductName = '';
        let currentSelectedVariant = null;
        let activeFilter = 'all';

        function getProductById(id) {
            return products.find(p => p.id === id);
        }

        function showCatalogGrid() {
            catalogGridView.classList.remove('hidden-view');
            detailsView.classList.add('hidden-view');
            filterSection.classList.remove('hidden-view');
            filterBar.classList.remove('hidden-view');

            floatingBackBtn.classList.add('hidden-view');
            floatingBackBtn.classList.remove('fade-in-up');
            breadcrumbNav.classList.add('hidden-view');
            breadcrumbNav.classList.remove('fade-in-up');
            floatingBackBtn.style.display = "none";

            window.location.hash = '';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateOrderLink(name, color) {
            const orderLink = document.getElementById('order-link');
            if (!orderLink) return;
            const whatsappNumber = '16179355621';
            const selectedItemName = color !== 'N/A' ? `${name} (${color})` : name;
            const whatsappMessage = `Halo, saya tertarik untuk Jastip produk ${selectedItemName}.`;
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;
            orderLink.href = whatsappUrl;
        }

        function renderVariantGallery(media, colorName) {
            const galleryContainer = document.getElementById('image-gallery-thumbnails');
            if (!galleryContainer) return;

            const galleryHtml = media.map((item, index) => {
                const activeClass = index === 0 ? 'active-gallery' : '';
                const thumbnailSrc = item.type === 'video'
                    ? 'https://placehold.co/100x100/3D2F24/ffffff?text=VIDEO'
                    : item.url;

                const videoOverlay = item.type === 'video' ? `
                    <div class="absolute inset-0 flex items-center justify-center bg-black/30">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                  d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"
                                  clip-rule="evenodd"></path>
                        </svg>
                    </div>
                ` : '';

                return `
                    <button
                        onclick="selectGalleryMedia(${index})"
                        class="gallery-thumbnail-btn w-16 h-16 rounded-xl border border-[color:var(--border)] overflow-hidden ${activeClass}
                               hover:border-[color:var(--gold)] transition duration-150 transform hover:-translate-y-0.5 bg-white relative"
                        aria-label="View ${colorName} - ${item.alt}"
                        title="View ${colorName} - ${item.alt}"
                    >
                        <img
                            src="${thumbnailSrc}"
                            alt="${item.alt} thumbnail"
                            class="w-full h-full object-contain"
                            onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/333333?text=View';"
                        />
                        ${videoOverlay}
                    </button>
                `;
            }).join('');

            galleryContainer.innerHTML = galleryHtml;
        }

        window.selectGalleryMedia = function(mediaIndex) {
            if (!currentSelectedVariant || !currentSelectedVariant.media) return;

            const selectedMedia = currentSelectedVariant.media[mediaIndex];
            const container = document.getElementById('main-product-media-container');
            let mediaHtml = '';

            if (selectedMedia.type === 'video') {
                mediaHtml = `
                    <div class="relative w-full max-w-md mx-auto bg-white rounded-3xl border border-[color:var(--border)] overflow-hidden">
                        <div class="relative w-full pb-[110%] bg-black">
                            <video
                                controls autoplay loop muted
                                src="${selectedMedia.url}"
                                class="absolute inset-0 w-full h-full object-contain"
                                onerror="this.onerror=null; console.error('Video load error');"
                            >
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                `;
            } else {
                mediaHtml = `
                    <div class="relative w-full max-w-md mx-auto bg-white rounded-3xl border border-[color:var(--border)] overflow-hidden">
                        <div class="relative w-full pb-[110%] bg-[color:var(--cream)]">
                            <img
                                src="${selectedMedia.url}"
                                alt="${selectedMedia.alt ? currentProductName + ' ' + selectedMedia.alt : 'Product image'}"
                                class="absolute inset-0 w-full h-full object-contain transition-transform duration-300 ease-out hover:scale-110"
                                onerror="this.onerror=null; this.src='https://placehold.co/800x600/e0e0e0/333333?text=Image+Missing';"
                            >
                        </div>
                    </div>
                `;
            }

            container.innerHTML = mediaHtml;

            document.querySelectorAll('.gallery-thumbnail-btn').forEach((btn, index) => {
                btn.classList.toggle('active-gallery', index === mediaIndex);
            });
        }

        window.selectVariant = function(variantId) {
            const selectedVariant = currentProductVariants.find(v => v.id === variantId);
            if (!selectedVariant) return;

            currentSelectedVariant = selectedVariant;

            document.querySelectorAll('.variant-thumbnail').forEach(el => {
                el.classList.remove('active');
            });
            const activeBtn = document.getElementById(`variant-btn-${variantId}`);
            if (activeBtn) activeBtn.classList.add('active');

            const colorNameEl = document.getElementById('selected-color-name');
            if (colorNameEl) colorNameEl.textContent = selectedVariant.color;

            const priceEl = document.getElementById('product-price');
            if (priceEl) priceEl.textContent = selectedVariant.price;

            updateOrderLink(currentProductName, selectedVariant.color);

            renderVariantGallery(selectedVariant.media, selectedVariant.color);
            selectGalleryMedia(0);
        }

        // Reload full page when "Home" in breadcrumb is clicked
        window.goHome = function() {
            window.location.href = window.location.origin + window.location.pathname;
        };

        // When user clicks brand in breadcrumb -> go back to catalog filtered by that brand
        window.filterByBrandFromBreadcrumb = function(brand) {
            if (!brandFilterSelect) return;
            brandFilterSelect.value = brand;
            filterProducts(brand);
            showCatalogGrid();
        };

        window.showProductDetails = function(productId) {
            const product = getProductById(productId);
            if (!product) {
                console.error('Product not found for ID:', productId);
                showCatalogGrid();
                return;
            }

            currentProductName = product.name;
            const isVariantProduct = product.variants && product.variants.length > 0;
            const initialVariant = isVariantProduct ? product.variants[0] : null;
            currentProductVariants = product.variants || [];
            currentSelectedVariant = initialVariant;

            const initialColorName = isVariantProduct ? initialVariant.color : 'N/A';
            const initialPrice = isVariantProduct ? initialVariant.price : product.price;

            const brandInfo = product.brand
                ? `<p class="text-xs tracking-[0.18em] text-[color:var(--muted)] uppercase mb-3">${product.brand}</p>`
                : '';

            // Breadcrumb: Home / Brand / Product Name
            const brandLabel = product.brand || 'All';
            breadcrumbNav.innerHTML = `
                <ol class="flex flex-wrap items-center gap-1 text-[11px] text-[color:var(--muted)]">
                    <li>
                        <button onclick="goHome()" class="breadcrumb-link hover:text-[color:var(--gold)]">
                            Home
                        </button>
                        <span class="mx-1 text-[color:var(--border)]">/</span>
                    </li>
                    <li>
                        <button
                            onclick="filterByBrandFromBreadcrumb('${brandLabel}')"
                            class="breadcrumb-link hover:text-[color:var(--gold)]"
                        >
                            ${brandLabel}
                        </button>
                        <span class="mx-1 text-[color:var(--border)]">/</span>
                    </li>
                    <li class="text-[color:var(--leather)] line-clamp-1">
                        ${product.name}
                    </li>
                </ol>
            `;

            const variantThumbnailHtml = isVariantProduct
                ? product.variants.map((variant, index) => {
                    const firstImage = variant.media.find(m => m.type === 'image') || variant.media[0];
                    const thumbnailUrl = firstImage ? firstImage.url : 'https://placehold.co/100x100/e0e0e0/333333?text=N/A';
                    const activeClass = index === 0 ? 'active' : '';

                    return `
                        <button
                            id="variant-btn-${variant.id}"
                            onclick="selectVariant('${variant.id}')"
                            class="variant-thumbnail w-16 h-16 rounded-xl border border-[color:var(--border)] overflow-hidden ${activeClass}
                                   hover:border-[color:var(--gold)] transition duration-150 bg-white"
                            aria-label="Select ${variant.color}"
                            title="${variant.color}"
                        >
                            <img
                                src="${thumbnailUrl}"
                                alt="${variant.color} thumbnail"
                                class="w-full h-full object-contain"
                                onerror="this.onerror=null; this.src='https://placehold.co/100x100/e0e0e0/333333?text=N/A';"
                            />
                        </button>
                    `;
                }).join('')
                : '';

            const variantSelector = isVariantProduct ? `
                <div class="mb-6">
                    <div class="flex items-baseline justify-between mb-2">
                        <h4 class="text-sm font-medium text-[color:var(--leather)]">
                            Color
                            <span class="ml-2 text-[color:var(--muted)] font-normal" id="selected-color-name">${initialColorName}</span>
                        </h4>
                    </div>
                    <div class="flex flex-wrap gap-3">
                        ${variantThumbnailHtml}
                    </div>
                </div>
            ` : '';

            const detailHtml = `
                <div class="md:flex md:space-x-10 lg:space-x-12">
                    <!-- Left: Media -->
                    <div class="md:w-1/2 mb-6 md:mb-0 flex">
                        ${isVariantProduct ? `
                            <div id="image-gallery-thumbnails" class="hidden sm:flex flex-col space-y-3 mr-4"></div>
                        ` : ''}
                        <div id="main-product-media-container" class="w-full flex-1"></div>
                    </div>

                    <!-- Right: Info -->
                    <div class="md:w-1/2">
                        ${brandInfo}
                        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-semibold text-[color:var(--leather)] mb-4"
                            style="font-family: 'Playfair Display', serif;">
                            ${product.name}
                        </h2>

                        ${variantSelector}

                        <p id="product-price"
                           class="text-2xl sm:text-3xl font-semibold tracking-wide text-[color:var(--leather)] mb-6">
                            ${initialPrice}
                        </p>

                        <div class="mt-6 pt-6 border-t border-[color:var(--border)]">
                            <p class="text-xs tracking-[0.18em] text-[color:var(--muted)] uppercase mb-3">Order via WhatsApp</p>
                            <p class="text-sm text-[color:var(--muted)] mb-4">
                                Kirim pesan ke kami untuk cek ketersediaan dan estimasi total Jastip.
                            </p>
                            <a href="#" id="order-link" target="_blank"
                               class="inline-flex items-center justify-center px-6 py-2.5 rounded-full border border-[color:var(--leather)] text-sm font-medium text-[color:var(--leather)] hover:bg-[color:var(--leather)] hover:text-[color:var(--card)] transition duration-150">
                                Hubungi via WhatsApp
                            </a>
                        </div>
                    </div>
                </div>
            `;

            productDetailsContainer.innerHTML = detailHtml;
            catalogGridView.classList.add('hidden-view');
            detailsView.classList.remove('hidden-view');
            filterSection.classList.add('hidden-view');
            filterBar.classList.add('hidden-view');

            floatingBackBtn.style.display = "inline-flex";
            floatingBackBtn.classList.remove('hidden-view');
            breadcrumbNav.classList.remove('hidden-view');
            floatingBackBtn.classList.add('fade-in-up');
            breadcrumbNav.classList.add('fade-in-up');

            window.location.hash = productId;
            window.scrollTo({ top: 0, behavior: 'smooth' });

            updateOrderLink(product.name, initialColorName);

            if (isVariantProduct) {
                renderVariantGallery(initialVariant.media, initialVariant.color);
                selectGalleryMedia(0);
            } else {
                const container = document.getElementById('main-product-media-container');
                container.innerHTML = `
                    <div class="relative w-full max-w-md mx-auto bg-white rounded-3xl border border-[color:var(--border)] overflow-hidden">
                        <div class="relative w-full pb-[110%] bg-[color:var(--cream)]">
                            <img
                                src="${product.imageUrl}"
                                alt="${product.name}"
                                class="absolute inset-0 w-full h-full object-contain transition-transform duration-300 ease-out hover:scale-110"
                            >
                        </div>
                    </div>
                `;
            }
        }

        function createProductCard(product) {
            let cardImageUrl = product.imageUrl;
            let cardPrice = product.price;

            if (product.variants && product.variants.length > 0) {
                const firstMedia = product.variants[0].media.find(m => m.type === 'image') || product.variants[0].media[0];
                if (firstMedia && firstMedia.type === 'image') {
                    cardImageUrl = firstMedia.url;
                } else if (firstMedia && firstMedia.type === 'video') {
                    cardImageUrl = 'https://placehold.co/600x600/3D2F24/ffffff?text=Video';
                }
                cardPrice = product.variants[0].price;
            }

            const brandName = (product.brand || 'Misc.').toUpperCase();

            return `
                <div class="bg-white border border-[color:var(--border)] rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition duration-300 group">
                    <!-- Image -->
                    <div class="relative w-full pb-[100%] bg-[color:var(--card)]">
                        <img
                            src="${cardImageUrl}"
                            alt="Image of ${product.name}"
                            class="absolute inset-0 w-full h-full object-contain p-6 transition-transform duration-300 ease-out group-hover:scale-105"
                            onerror="this.onerror=null; this.src='https://placehold.co/600x600/e0e0e0/333333?text=Image+Not+Found';"
                        >
                    </div>

                    <!-- Content -->
                    <div class="px-4 pt-4 pb-3">
                        <p class="text-[10px] tracking-[0.25em] text-[color:var(--muted)] mb-1">${brandName}</p>
                        <h2 class="text-sm font-medium text-[color:var(--leather)] mb-1 line-clamp-2">${product.name}</h2>
                        <p class="text-sm font-semibold text-[color:var(--leather)] mt-2">${cardPrice}</p>
                    </div>

                    <!-- Button -->
                    <div class="px-4 pb-4">
                        <button
                            onclick="showProductDetails('${product.id}')"
                            class="w-full py-2.5 text-xs font-medium rounded-full border border-[color:var(--leather)] text-[color:var(--leather)] hover:bg-[color:var(--leather)] hover:text-[color:var(--card)] transition duration-150">
                            View details
                        </button>
                    </div>
                </div>
            `;
        }

        window.filterProducts = function(brandName) {
            activeFilter = brandName;
            const filteredProducts = products.filter(product => {
                if (brandName === 'all') return true;
                return product.brand && product.brand.toLowerCase() === brandName.toLowerCase();
            });
            renderCatalog(filteredProducts);
        }

        function renderCatalog(productList = products) {
            if (!catalogGrid) return;
            catalogGrid.innerHTML = productList.map(createProductCard).join('');
        }

        function populateBrandFilter() {
            const brands = new Set();
            products.forEach(p => {
                if (p.brand) brands.add(p.brand);
            });

            brandFilterSelect.innerHTML = '<option value="all">All Brands</option>';
            Array.from(brands).sort().forEach(brand => {
                const option = document.createElement('option');
                option.value = brand;
                option.textContent = brand;
                brandFilterSelect.appendChild(option);
            });
        }

        function checkInitialHash() {
            const productId = window.location.hash.substring(1);
            if (productId) {
                showProductDetails(productId);
            } else {
                showCatalogGrid();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            populateBrandFilter();
            renderCatalog();
            checkInitialHash();
        });

        window.addEventListener('hashchange', checkInitialHash);
    </script>

</body>
</html>
